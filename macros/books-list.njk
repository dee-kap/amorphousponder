{% macro renderBooksList(filteredBooks, headingText, displayStars) %}
<div class="books-list-heading">
  {%- if(displayStars !== NaN)-%}
    <span style="flex-grow:1;">
    <strong>{{ filteredBooks | length }}</strong> books {{ headingText }} 
    </span>
    <span>
     {%- for i in range(0, displayStars) -%}
        <span class="star filled {% if i == 5 %} six{% endif %}">★</span>
    {%- endfor %} 
    </span>
  {%- else -%}
    {{ filteredBooks | length }} books {{ headingText }}
  {%- endif -%}
</div>
  <div class="books-list">
    {%- for book in filteredBooks -%}
      {%- set rating = book.rating | int -%}
      {% if rating == 6 %}
        <div class="book six-star-book" style="background-image: url('/images/covers/{{ book.image }}')">
      {% else %}
        <div class="book" style="background-image: url('/images/covers/{{ book.image }}')">
      {% endif %}
        <div class="book-title">
          {{ book.displayTitle or book.title }}
          <div class="book-rating">
            {%- if rating == 6 -%}
              {%- for i in range(1, 7) -%}
                <span class="star {% if i <= rating %}filled{% endif %} {% if i == 6 %} six{% endif %}">★</span>
              {%- endfor %}
            {%- else -%}
              {%- for i in range(1, 6) -%}
                <span class="star {% if i <= rating %}filled{% endif %}">★</span>
              {%- endfor %}
            {%- endif -%}
          </div>
        </div>
      </div>
    {%- endfor %}
  </div>
{% endmacro %}

